<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EDRC</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <div class="container">
        <h1>CC Rigid Pavement Design</h1>
        <form id="predictor-form" action='/predict' method="POST">

            <!-- SECTION 1: PROJECT DETAILS -->
            <div class="section">
                <div class="section-header">Project Details</div>
                <div class="section-content">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="project">PROJECT:</label>
                            <input type="text" id="project" name="project" required>
                        </div>
                        <div class="form-group">
                            <label for="tit">TITLE:</label>
                            <input type="text" id="tit" name="tit" required>
                        </div>
                        <div class="form-group">
                            <label for="doc">DOCUMENT NO:</label>
                            <input type="text" id="doc" name="doc" required>
                        </div>
                        <div class="form-group">
                            <label for="rev">REVISION:</label>
                            <input type="text" id="rev" name="rev" required>
                        </div>
                        <div class="form-group">
                            <label for="des">DESIGNED BY:</label>
                            <input type="text" id="des" name="des" required>
                        </div>
                        <div class="form-group">
                            <label for="chk">CHECKED BY:</label>
                            <input type="text" id="chk" name="chk" required>
                        </div>
                        <div class="form-group">
                            <label for="app">APPROVED BY:</label>
                            <input type="text" id="app" name="app" required>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SECTION 2: DESIGN INPUTS -->
            <div class="section">
                <div class="section-header">Design Inputs</div>
                <div class="section-content">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="veh">No of Commercial Vehicles per day (CVPD):</label>
                            <input type="text" id="veh" name="veh" required>
                        </div>
                        <div class="form-group">
                            <label for="load">Total Wheel Load for Trailer (Tonne):</label>
                            <input type="text" id="load" name="load" required>
                        </div>
                        <div class="form-group">
                            <label for="cbr">California Bearing Ratio:</label>
                            <input type="text" id="cbr" name="cbr" required>
                        </div>
                        <div class="form-group">
                            <label for="k">Modulus of Subgrade Reaction, k (Mpa/m):</label>
                            <input type="text" id="k" name="k" required>
                        </div>
                        <div class="form-group">
                            <label for="e">Elastic Modulus of Concrete, E (Mpa):</label>
                            <input type="text" id="e" name="e" required>
                        </div>
                        <div class="form-group">
                            <label for="mu">Poisson Ratio of Concrete, μ:</label>
                            <input type="text" id="mu" name="mu" required>
                        </div>
                        <div class="form-group">
                            <label for="cs">Compressive Strength of Concrete:</label>
                            <input type="text" id="cs" name="cs" required>
                        </div>
                        <div class="form-group">
                            <label for="rup">Modulus of Rupture of Concrete:</label>
                            <input type="text" id="rup" name="rup" required>
                        </div>
                        <div class="form-group">
                            <label for="axle">Tyre (1 - Single / 2 - Dual):</label>
                            <input type="text" id="axle" name="axle" required>
                        </div>
                        <div class="form-group">
                            <label for="spacing">Spacing of Wheels (mm):</label>
                            <input type="text" id="spacing" name="spacing" required>
                        </div>
                        <div class="form-group">
                            <label for="tyreP">Tyre Pressure (Mpa):</label>
                            <input type="text" id="tyreP" name="tyreP" required>
                        </div>
                        <div class="form-group">
                            <label for="temp">Temperature Zone (1 to 6):</label>
                            <input type="text" id="temp" name="temp" required>
                        </div>
                        <div class="form-group">
                            <label for="delta">Temperature Differential:</label>
                            <input type="text" id="delta" name="delta" required>
                        </div>
                        <div class="form-group">
                            <label for="alpha">Coefficient of Thermal Expansion:</label>
                            <input type="text" id="alpha" name="alpha" required>
                        </div>
                        <div class="form-group">
                            <label for="life">Design Life (years):</label>
                            <input type="text" id="life" name="life" required>
                        </div>
                        <div class="form-group">
                            <label for="thickness">Trial Thickness of CC Pavement (m):</label>
                            <input type="text" id="thickness" name="thickness" required>
                        </div>
                        <div class="form-group">
                            <label for="wbm">Thickness of WBM Layer (mm):</label>
                            <input type="text" id="wbm" name="wbm" required>
                        </div>
                        <div class="form-group">
                            <label for="gsb">Thickness of GSB Layer (mm):</label>
                            <input type="text" id="gsb" name="gsb" required>
                            <div id="gsbPopup" class="popup-image">
                                <span class="close-btn" onclick="closePopup()">✖</span>
                                <img src="{{ url_for('static', filename='testing.png') }}" alt="GSB diagram">
                                <p style="font-size: 14px; margin-top: 4px; text-align: center;">Typical GSB layer composition</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <button type="submit">Submit</button>
        </form>
        <br>
    </div>

    <footer>
        <p>LNT INTERNAL USE</p>
    </footer>

    <script>
        // Collapsible Section Logic
        document.querySelectorAll('.section-header').forEach(header => {
            header.addEventListener('click', () => {
                const content = header.nextElementSibling;
                header.classList.toggle('active');
                content.classList.toggle('active');
            });
        });

        const gsbInput = document.getElementById('gsb');
        const popup = document.getElementById('gsbPopup');

        gsbInput.addEventListener('mouseenter', () => {
            popup.style.display = 'block';
        });

        function closePopup() {
            popup.style.display = 'none';
        }
    </script>
</body>
</html>
